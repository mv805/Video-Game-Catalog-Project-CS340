<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Team 22</title>
  <style>
    table,
    th,
    td,
    form {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
    }
  </style>
</head>

<body>
  <header>
    <h1><strong>Game Quest: Video Game Store</strong></h1>
  </header>
  <nav class="global-nav">
    <a href="index.html">Games</a> |
    <a href="platform.html">Platforms</a> |
    <a href="franchise.html">Franchises</a> |
    <a href="developer.html">Developers</a>
  </nav>
  <p>&nbsp;</p>
  <h2>Platforms Page</h2>
  <p>&nbsp;</p>

  <h3>Games:</h3>
  <table id="gamesList">
    <tr>
      <th>Game ID</th>
      <th>Title</th>
      <th>Release Year</th>
      <th>Price</th>
      <th>Developer</th>
      <th>Franchise</th>
      <th>Action</th>
    </tr>
  </table>

  <h3>Platforms:</h3>
  <table id="platformsList">
    <tr>
      <th>platformID</th>
      <th>Name</th>
      <th>Action</th>
    </tr>
  </table>

  <h3>Game-Platform Relation:</h3>
  <table id="gameHasPlatformsList">
    <tr>
      <th>gameHasPlatformID</th>
      <th>Game</th>
      <th>Platform</th>
      <th>Action</th>
    </tr>
  </table>

  <!-- Input Text Box to Insert -->
  <h3>Add New Game:</h3>
  <form id="addGameForm">
    <input type="text" id="gameTitle" placeholder="Title" required>
    <input type="number" id="gameReleaseYear" placeholder="Release Year" required>
    <input type="text" id="gamePrice" placeholder="Price" required>

    <select id="gameDeveloper">
      <option value="--developer--">--Select Developer--</option>
    </select>

    <select id="gameFranchise">
      <option value="--franchise--">--Select Franchise--</option>
    </select>

    <button type="submit">Add Game</button>
  </form>

  <!-- Input Text Box to Insert -->
  <h3>Add New Platform:</h3>
  <form id="addPlatformForm">
    <input type="text" id="platformName" placeholder="Platform Name" required>
    <button type="submit">Add Platform</button>
  </form>

  <!-- Input Text Box to Insert -->
  <h3>Add New Game-Platform Relation:</h3>
  <form id="addGamePlatformForm">
    <select id="game">
      <option value="--game--"> --Select Game--</option>
    </select>
    <select id="platform">
      <option value="--platform--">--Select Platform--</option>
    </select>
    <button type="submit">Add Relation</button>
  </form>

  <!-- Update Game Form -->
  <h3>Update Game:</h3>
  <form id="updateGameForm">
    <input type="text" id="updateGameID" placeholder="Game ID" required>
    <input type="text" id="updateGameTitle" placeholder="New Title" required>
    <input type="number" id="updateGameReleaseYear" placeholder="New Release Year" required>
    <input type="text" id="updateGamePrice" placeholder="New Price" required>

    <select id="updateGameDeveloper">
      <option value="--developer--">--Select Developer--</option>
    </select>

    <select id="updateGameFranchise">
      <option value="--franchise--">--Select Franchise--</option>
    </select>

    <button type="submit">Update Game</button>
  </form>

  <!-- Update Platform Form -->
  <h3>Update Platform:</h3>
  <form id="updatePlatformForm">
    <input type="text" id="updatePlatformID" placeholder="Platform ID" required>
    <input type="text" id="updatePlatformName" placeholder="New Platform Name" required>
    <button type="submit">Update Platform</button>
  </form>

  <!-- Update Game-Platform Relation Form -->
  <h3>Update Game-Platform Relation:</h3>
  <form id="updateGamePlatformForm">
    <input type="text" id="updateGamePlatform" placeholder="Game/Platform ID" required>

    <select id="game">
      <option value="--game--"> --Select Game--</option>
    </select>

    <select id="platform">
      <option value="--platform--">--Select Platform--</option>
    </select>

    <button type="submit">Update Relation</button>
  </form>

  <script>
    // Sample data 
    const games = [
      { 
        gameID: "1", 
        title: "Metroid Prime", 
        releaseYear: "2002", 
        price: "$59.99", 
        developer: "Retro Studios", 
        franchise: "Metroid" 
      },
      { 
        gameID: "2", 
        title: "Super Mario Odyssey", 
        releaseYear: "2017", 
        price: "$59.99", 
        developer: "Nintendo", 
        franchise: "Super Mario"
      },
      { 
        gameID: "3", 
        title: "F-ZERO GX", 
        releaseYear: "2003", 
        price: "$49.99", 
        developer: "Amusement Vision", 
        franchise: "F-ZERO" 
      },
      { 
        gameID: "4",
        title: "Halo 3", 
        releaseYear: "2007", 
        price: "$59.99", 
        developer: "Bungie", 
        franchise: "Halo"
      },
      { 
        gameID: "5", 
        title: "Doom Eternal", 
        releaseYear: "2020", 
        price: "$59.99", 
        developer: "id Software", 
        franchise: "Doom" 
      }
    ];

    const gameHasPlatforms = [
      { 
        gameHasPlatformID: "1", 
        game: "Metroid Prime", 
        platform: "Nintendo" 
      },
      { 
        gameHasPlatformID: "2", 
        game: "Super Mario Odyssey", 
        platform: "Nintendo" 
      },
      { 
        gameHasPlatformID: "3", 
        game: "F ZERO GX", 
        platform: "Nintendo" 
      },
      { 
        gameHasPlatformID: "4", 
        game: "Halo 3", 
        platform: "XBox" 
      },
      { 
        gameHasPlatformID: "5", 
        game: "Doom Eternal", 
        platform: "Playstation" 
      }
    ];


    const platforms = [
      // Populate games data here
      { 
        platformID: "1", 
        name: "Nintendo" 
      },
      { 
        platformID: "2", 
        name: "Xbox" 
      },
      { 
        platformID: "3", 
        name: "Playstation" 
      },
      { 
        platformID: "4", 
        name: "PC" 
      }
    ];

    function renderTables() {
      // Reset header
      const gamesBody = document.querySelector("#gamesList");
      gamesBody.innerHTML = `
    <tr>
      <th>Game ID</th>
      <th>Title</th>
      <th>Release Year</th>
      <th>Price</th>
      <th>Developer</th>
      <th>Franchise</th>
      <th>Action</th>
    </tr>
  `;

      const platformsBody = document.querySelector("#platformsList");
      platformsBody.innerHTML = `
    <tr>
      <th>platformID</th>
      <th>Name</th>
      <th>Action</th>
    </tr>
  `;

      const gameHasPlatformsBody = document.querySelector("#gameHasPlatformsList");
      gameHasPlatformsBody.innerHTML = `
    <tr>
      <th>gameHasPlatformID</th>
      <th>Game</th>
      <th>Platform</th>
      <th>Action</th>
    </tr>
  `;

      // Iterate over array to render row
      games.forEach(game => {
        const row = gamesBody.insertRow();
        row.innerHTML = `
      <td>${game.gameID}</td>
      <td>${game.title}</td>
      <td>${game.releaseYear}</td>
      <td>${game.price}</td>
      <td>${game.developer}</td>
      <td>${game.franchise}</td>
      <td>
        <button type="button">Update</button>
        <button type="button">Delete</button>
      </td>
    `;
      });

      platforms.forEach(platform => {
        const row = platformsBody.insertRow();
        row.innerHTML = `
      <td>${platform.platformID}</td>
      <td>${platform.name}</td>
      <td>
        <button type="button">Update</button>
        <button type="button">Delete</button>
      </td>
    `;
      });

      gameHasPlatforms.forEach(gamePlatform => {
        const row = gameHasPlatformsBody.insertRow();
        row.innerHTML = `
      <td>${gamePlatform.gameHasPlatformID}</td>
      <td>${gamePlatform.game}</td>
      <td>${gamePlatform.platform}</td>
      <td>
        <button type="button">Update</button>
        <button type="button">Delete</button>
      </td>
    `;
      });
    }

    window.onload = renderTables; // Initial render

  </script>
</body>

</html>