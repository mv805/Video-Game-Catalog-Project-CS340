<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Team 22</title>
    <style>
      table,
      th,
      td,
      form {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
      }
    </style>
  </head>

  <body>
    <header>
      <h1><strong>Game Quest: Video Game Store</strong></h1>
    </header>
    <nav class="global-nav">
      <a href="index.html">Inventory</a> | <a href="genre.html">Genres</a> |
      <a href="platform.html">Platforms</a> | <a href="orders.html">Orders</a> |
      <a href="customers.html">Customers</a> |
      <a href="franchise.html">Franchises</a> |
      <a href="developer.html">Developers</a>
    </nav>
    <p>&nbsp;</p>
    <h2>Genres Page</h2>

    <p>&nbsp;</p>
    <h3>Games:</h3>
    <table id="gamesList">
      <tr>
        <th>Game ID</th>
        <th>Title</th>
        <th>Release Year</th>
        <th>Price</th>
        <th>Developer</th>
        <th>Franchise</th>
      </tr>
    </table>

    <p>&nbsp;</p>
    <h3>Genres:</h3>
    <table id="genresList">
      <tr>
        <th>genreID</th>
        <th>name</th>
      </tr>
    </table>

    <p>&nbsp;</p>
    <h3>Game-Genre Relation:</h3>
    <table id="gameHasGenresList">
      <tr>
        <th>gameHasGenresID</th>
        <th>gameID</th>
        <th>genreID</th>
      </tr>
    </table>

    <!-- Input Text Box to Insert -->
    <p>&nbsp;</p>
    <h3>Add New Game</h3>
    <form id="addGameForm">
      <input
        type="text"
        id="new-game--gameTitle"
        placeholder="Title"
        required
      />
      <input
        type="number"
        id="new-game--gameReleaseYear"
        placeholder="Release Year"
        required
      />
      <input
        type="text"
        id="new-game--gamePrice"
        placeholder="Price"
        required
      />
      <select id="new-game--franchiseID">
        <option value="--franchise--">--Select Franchise--</option>
        <!-- values should be the related ids to be sent to the query -->
        <option value="1">Metroid</option>
        <option value="2">Super Mario</option>
        <option value="3">F-ZERO</option>
      </select>
      <select id="new-game--developerID">
        <option value="--developer--">--Select Developer--</option>
        <!-- values should be the related ids to be sent to the query -->
        <option value="1">Retro Studios</option>
        <option value="2">Ubisoft</option>
        <option value="3">EA Games</option>
      </select>
      <button type="submit">Add Game</button>
    </form>

    <!-- Input Text Box to Insert -->
    <p>&nbsp;</p>
    <h3>Add New Genre</h3>
    <form id="addGenreForm">
      <input
        type="text"
        id="new-genre--genreName"
        placeholder="Genre Name"
        required
      />
      <button type="submit">Add Genre</button>
    </form>

    <!-- Input Text Box to Insert -->
    <p>&nbsp;</p>
    <h3>Add New Game-Genre Relation</h3>
    <form id="addGameGenreForm">
      <select id="new-game-genre--gameID">
        <option value="--game--">--Select Game--</option>
        <!-- values should be the related ids to be sent to the query -->
        <option value="3">Super Metroid</option>
        <option value="5">Metroid Dread</option>
        <option value="4">Metroid Fusion</option>
        <!-- ...more here later -->
      </select>
      <select id="new-game-genre--genreID">
        <option value="--genre--">--Select Genre--</option>
        <option value="1">action-adventure</option>
        <option value="2">horror</option>
        <option value="3">fantasy</option>
        <!-- ...more here later -->
      </select>
      <button type="submit">Add Relation</button>
    </form>

    <p>&nbsp;</p>
    <!-- Update Game Form -->
    <h3>Update Game</h3>
    <p>
      Select 'Update' near an entry above first to fill in the related info.
    </p>
    <form id="updateGameForm">
      <input
        type="text"
        id="update-game--gameID"
        placeholder="Game ID"
        required
      />
      <input
        type="text"
        id="updateGameTitle"
        placeholder="New Title"
        required
      />
      <input
        type="number"
        id="update-game--gameReleaseYear"
        placeholder="New Release Year"
        required
      />
      <input
        type="text"
        id="update-game--gamePrice"
        placeholder="New Price"
        required
      />
      <select id="update-game--franchiseID">
        <option value="--franchise--">--Select Franchise--</option>
        <option value="1">Metroid</option>
        <option value="2">Super Mario</option>
        <option value="3">F-ZERO</option>
      </select>
      <select id="update-game--developerID">
        <option value="--developer--">--Select Developer--</option>
        <option value="1">Retro Studios</option>
        <option value="2">Ubisoft</option>
        <option value="3">EA Games</option>
      </select>
      <button type="submit">Update Game</button>
    </form>

    <p>&nbsp;</p>
    <!-- Update Genre Form -->
    <h3>Update Genre</h3>
    <p>
      Select 'Update' near an entry above first to fill in the related info.
    </p>
    <form id="updateGenreForm">
      <input
        type="text"
        id="update-genre--genreID"
        placeholder="Genre ID"
        required
      />
      <input
        type="text"
        id="update-genre--genreName"
        placeholder="New Genre Name"
        required
      />
      <button type="submit">Update Genre</button>
    </form>

    <p>&nbsp;</p>
    <!-- Update Game-Genre Relation Form -->
    <h3>Update Game-Genre Relation</h3>
    <p>
      Select 'Update' near an entry above first to fill in the related info.
    </p>
    <form id="updateGameGenreForm">
      <input
        type="text"
        id="update-game-genre--gameGenreID"
        placeholder="Game/Genre ID"
        required
      />
      <select id="update-game-genre--gameID">
        <option value="--game--">--Select Game--</option>
        <!-- values should be the related ids to be sent to the query -->
        <option value="3">Super Metroid</option>
        <option value="5">Metroid Dread</option>
        <option value="4">Metroid Fusion</option>
        <!-- ...more here later -->
      </select>
      <select id="update-game-genre--genreID">
        <option value="--genreID--">--Select Genre--</option>
        <option value="1">action-adventure</option>
        <option value="2">horror</option>
        <option value="3">fantasy</option>
        <!-- ...more here later -->
      </select>
      <button type="submit">Update Relation</button>
    </form>

    <script>
      // Sample data
      const games = [
        // Populate games data here
        {
          gameID: "1",
          title: "Metroid",
          releaseYear: "1986",
          price: "$59.99",
          developer: "Nintendo",
          franchise: "Metroid",
        },
        {
          gameID: "2",
          title: "Metroid II: Return of Samus",
          releaseYear: "1991",
          price: "$59.99",
          developer: "Nintendo",
          franchise: "Metroid",
        },
        {
          gameID: "3",
          title: "Super Metroid",
          releaseYear: "1994",
          price: "$59.99",
          developer: "Nintendo",
          franchise: "Metroid",
        },
        {
          gameID: "4",
          title: "Metroid Fusion",
          releaseYear: "2002",
          price: "$59.99",
          developer: "Nintendo",
          franchise: "Metroid",
        },
        {
          gameID: "5",
          title: "Metroid Dread",
          releaseYear: "2021",
          price: "$59.99",
          developer: "Nintendo",
          franchise: "Metroid",
        },
      ];

      const gameHasGenres = [
        // Populate games data here
        {
          gameHasGenresID: "1",
          game: "Metroid",
          genre: "action-adventure",
        },
        {
          gameHasGenresID: "2",
          game: "Metroid II: Return of Samus",
          genre: "action-adventure",
        },
        {
          gameHasGenresID: "3",
          game: "Super Metroid",
          genre: "action-adventure",
        },
        {
          gameHasGenresID: "4",
          game: "Metroid Fusion",
          genre: "action-adventure",
        },
        {
          gameHasGenresID: "5",
          game: "Metroid Dread",
          genre: "action-adventure",
        },
      ];

      const genres = [
        // Populate games data here
        { genreID: "1", name: "action-adventure" },
        { genreID: "2", name: "horror" },
        { genreID: "3", name: "fantasy" },
        { genreID: "4", name: "fighting" },
        { genreID: "5", name: "racing" },
      ];

      function renderTables() {
        // Reset header
        const gamesBody = document.querySelector("#gamesList");
        gamesBody.innerHTML = `
      <tr>
        <th>Game ID</th>
        <th>Title</th>
        <th>Release Year</th>
        <th>Price</th>
        <th>Developer</th>
        <th>Franchise</th>
        <th>Action</th>
      </tr>
    `;

        const genresBody = document.querySelector("#genresList");
        genresBody.innerHTML = `
      <tr>
        <th>genreID</th>
        <th>Name</th>
        <th>Action</th>
      </tr>
    `;

        const gameHasGenresBody = document.querySelector("#gameHasGenresList");
        gameHasGenresBody.innerHTML = `
      <tr>
        <th>gameHasGenresID</th>
        <th>Game</th>
        <th>Genre</th>
        <th>Action</th>
      </tr>
    `;

        // Iterate over array to render row
        games.forEach((game) => {
          const row = gamesBody.insertRow();
          row.innerHTML = `
        <td>${game.gameID}</td>
        <td>${game.title}</td>
        <td>${game.releaseYear}</td>
        <td>${game.price}</td>
        <td>${game.developer}</td>
        <td>${game.franchise}</td>
        <td>
          <button type="button">Update</button>
          <button type="button">Delete</button>
        </td>
      `;
        });

        genres.forEach((genre) => {
          const row = genresBody.insertRow();
          row.innerHTML = `
        <td>${genre.genreID}</td>
        <td>${genre.name}</td>
        <td>
          <button type="button">Update</button>
          <button type="button">Delete</button>
        </td>
      `;
        });

        gameHasGenres.forEach((gameGenre) => {
          const row = gameHasGenresBody.insertRow();
          row.innerHTML = `
        <td>${gameGenre.gameHasGenresID}</td>
        <td>${gameGenre.game}</td>
        <td>${gameGenre.genre}</td>
        <td>
          <button type="button">Update</button>
          <button type="button">Delete</button>
        </td>
      `;
        });
      }

      window.onload = renderTables; // Initial render
    </script>
  </body>
</html>
